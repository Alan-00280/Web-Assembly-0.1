<!DOCTYPE>
<html>
<head>
    <title>Web Assembly 0.1</title>
    <link rel="stylesheet" href="style.css">
    <script src="func.js"></script>
</head>
<body>
    <h1>Web Assembly 0.1</h1>
    <div>
        <p>Hi, This website is my first creation of page that included WebAssembly<br>
        On the development</p>
        <p>Long story short, Functions for this page is created in C++ then
            <br>Assambled or Builded to being an .wasm file <br>
            The .wasm is being "glued" with javascript and that javascript<br>
            Is attached to this pages
        </p>
        <p style="margin: 0;">
            What the page itself do is:<br>
            <ul style="margin: 0;">
                <li style="list-style: none;">
                    Getting input from user<br>
                    Then called function to processing the input<br>
                    print the result
                </li>
            </ul>
        </p>
    </div>

    <script>
        function circle(){
            var r = document.querySelector("#r").value;
            var textareas = document.getElementById("message");

            var result1 = Module.ccall(
                "circle_area",
                "number",
                ["number"],
                [r]
            )

            var result2 = Module.ccall(
                "circle_circum",
                "number",
                ["number"],
                [r]
            )
            
            console.log( "Radius: " + r + "\n"
                       + "Area: ~" + result1 + "\n"
                       + "Cirumstances: ~" + result2 + "\n"
            )

            textareas.innerHTML = `Radius: ${r} <br> Area: ${result1} <br> Circumstances : ${result2}`;
        }

        function square(){
            var a = document.querySelector("#a").value;
            var textareas = document.getElementById("message");

            var result1 = Module.ccall(
                "square_area",
                "number",
                ["number"],
                [a]
            )

            var result2 = Module.ccall(
                "square_circum",
                "number",
                ["number"],
                [a]
            )

            console.log( "Side: " + a + "\n"
                       + "Area: " + result1 + "\n"
                       + "Cirumstances: " + result2 + "\n"
            )

            textareas.innerHTML = `Side: ${a} <br> Area: ~${result1} <br> Circumstances : ~${result2}`;
        }
    </script>

    <h3 style="margin: 0;">The Things:</h3>
    <ul style="margin: 0;">
        <li>
            <h2>Circle</h2>
            <span>Radius:</span> <input type="number" id="r">
            <button onclick="circle()">find</button>
        </li>
        <li>
            <h2>Square</h2>
            <span>Side:</span> <input type="number" id="a">
            <button onclick="square()">find</button>
        </li>
    </ul>

    <div id="message-box">
        <p style="padding: 0; margin:0;">Output:</p>
        <p id="message"></p>
    </div>

    <a href="https://alan-00280.github.io/Web-Assembly-0.1/" id="index-link">Back again</a>
</body>
</html>
